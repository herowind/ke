{extend name="mobile@template/common"/} 
{block name="style"}
<style>
.page{
	background: #fff;
}
.ui-content{
	position: relative;
	background: #f0f0f0;
    padding:0;
    width: 100%;
    max-width: 480px;
    overflow: hidden;
    margin: 0 auto;
    min-height: 100vh;
    position: relative;
    background-repeat: no-repeat;
    background-size: contain;	
}

.livecourse {
	background: #fff;
	padding-top:10px;
	padding-bottom:5px;
}

.livecourse__wrapper {
    margin-right: auto;
    margin-left: auto;
    max-width: 570px;
}

.livecourse .livecourse__header {
    text-align: center;
    letter-spacing: 5px;
    line-height: 40px;
    margin-bottom: 15px;
    height: 40px;
	font-size: 22px;
	font-weight:bold;
	font-style: italic;
	font-family:'微软雅黑';
}

.livecourse .livecourse__header .header {
	margin-left: 20px;
    margin-right: 20px;
	background-image: -webkit-linear-gradient(left, #FE940E , #FE2202);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.livecourse .livecourse__header .lingxing1{
	color:#FFE89A;
	font-size:11px;
	-webkit-transform:rotate(90deg);
	transform:rotate(90deg);
}
.livecourse .livecourse__header .lingxing2{
	color:#FFDD5B;
	font-size:16px;
	-webkit-transform:rotate(90deg);
	transform:rotate(90deg);
}

.livecourse .livecourse__list{
	padding-left: 8px;
    padding-right: 8px;
}

.livecourse .livecourse__item{
	position:relative;
	margin-bottom:15px;
}

.livecourse .livecourse__media{
	position: relative;
	width:100%;
	height:100%;
	box-sizing:border-box;
	z-index:10;
	
}

.livecourse .livecourse__media img{
	display:block;
	width:100%;
	height:100%;
	border-top-left-radius:5px;
	border-top-right-radius:5px;
	z-index:-1;
	background-color:rgba(0,0,0,0.7);
}
.livecourse .livecourse__media .mask{  
    width: 60px;
    height: 60px;
    position: absolute;
    left: 50%;
    top: 50%;
    margin: -30px 0 0 -30px;
    z-index: 1;
	background-color:rgba(0,0,0,0.7);
	border-radius:50%;
}  

.livecourse .livecourse__media .arrow {
    width: 13px;
    height: 15px;
    position: absolute;
    top: 50%;
    left: 50%;
    margin: -7px 0 0 -6px;
    background: url(/guanke/images/icons/arrow.png) no-repeat;
	z-index: 8;
}

.livecourse .livecourse__media .video-btn {
    width: 45px;
    height: 45px;
    background: url(/guanke/images/icons/circle_border.png) no-repeat;
    position: absolute;
    z-index: 2;
    left: 50%;
    top: 50%;
    margin: -22.5px 0 0 -22.5px;
     animation: rotate 4s .1s linear infinite;
    -webkit-animation: rotate 4s .1s linear infinite;
	
}

.livecourse  .livecourse__info{
	position:absolute;
	width:100%;
	color: #fff;
	text-align:center;
	height:40px;
	line-height:40px;
	font-size:14px;
	font-weight:bold;
	background:rgba(0,0,0,0.7);
	z-index:999;
	border-bottom-left-radius:5px;
	border-bottom-right-radius:5px;
	margin-top:-40px;
}


@keyframes rotate{
	0% {
	    transform: rotate(0deg);
	    -webkit-transform: rotate(0deg);
	}
	50% {
	    transform: rotate(180deg);
	    -webkit-transform: rotate(180deg);
	}
	100% {
	    transform: rotate(360deg);
	    -webkit-transform: rotate(360deg);
	}
}


.activity__couponspa .couponspa__showTime {
    transition: all 1s;
    position: relative;
}

.course__wrapper {
    background: #f0f0f0;
}

.course__wrapper .course__list {
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-pack: justify;
    -webkit-justify-content: space-between;
    -ms-flex-pack: justify;
    justify-content: space-between;
    -webkit-flex-wrap: wrap;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    padding: 15px 10px 5px;
}

.course__list .course__item {
    width: calc(50% - 10px);
	margin:5px;
    -webkit-flex-shrink: 0;
    -ms-flex-negative: 0;
    flex-shrink: 0;
    padding: 10px 10px 15px;
    position: relative;
    z-index: 10;
    background: #fff;
    box-shadow: 0 2px 4px 0 rgba(0,0,0,.2);
    border-radius: 4px;
    overflow: hidden;
	box-sizing:border-box;
}

.course__item img {
    width: 100%;
    margin: 0 auto;
    border-radius: 4px;
    box-shadow: 0 2px 4px 0 rgba(0,0,0,.2);
    background-position: 50%;
    background-size: cover;
    background-repeat: no-repeat;
}

.course__item .item__title {
    color: #512b0c;
    width: 100%;
    height: 32px;
    font-size: 12px;
    font-weight: 500;
    line-height: 16px;
    margin-top: 10px;
    margin-bottom: 5px;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
    overflow: hidden;
}

.course__item .item__title span{
	color: #f04141;
}

.course__item .item__tags {
    color: #999;
    font-size: 12px;
    line-height: 12px;
    margin-bottom: 15px;
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-pack: justify;
    -webkit-justify-content: space-between;
    -ms-flex-pack: justify;
    justify-content: space-between;
}

.course__item .item__bottom {
    text-align: center;
}

.course__item .item__bottom button {
    background: #f8573f;
    box-shadow: 2px 2px 4px 0 rgba(255,82,62,.4);
    border-radius: 6px;
    font-size: 12px;
    color: #fff;
    width: 122px;
    line-height: 12px;
    height: 36px;
    border: none;
    outline: none;
    cursor: pointer;
    background-image: linear-gradient(90deg,#ff8a79,#f04141);
}

.share {
    background: url(//res.imtt.qq.com/bookshelf/images/carnival/carnival-share.png) no-repeat;
    background-size: 100% 100%;
    widows: 100%;
    margin: 0;
    text-align: center;
	color:#fff;
	font-size:16px;
	line-height:35px;
	height:35px;
}



</style>
{/block}
{block name="body"}

<div class="swiper-container" >
	<!-- Additional required wrapper -->
	<div class="swiper-wrapper">
		<div class="swiper-slide" v-for="item in slideList">
			<img :src="item.banner" class="main-img"/>
		</div>
	</div>
	<div class="swiper-pagination"></div>
</div>
<div class="ui-content ui-hide">

	<div class="livecourse">
		<div class="livecourse__wrapper">
			<div class="livecourse__header">
				<span class="lingxing1">&diams;</span><span class="lingxing2">&diams;</span>
				<span class="header">课堂直播</span>
				<span class="lingxing2">&diams;</span><span class="lingxing1">&diams;</span>
			</div>
			<div class="livecouse__list" >
				<div class="livecourse__item" v-for="item in livecourseList">
					<div class="livecourse__media">
						<img :src="item.course.banner">
						<span class="arrow"></span>
						<span class="video-btn"></span>
						<span class="mask"></span>
					</div>
					<div class="livecourse__info">
						<div>{{item.name}}</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<div class="course">
		<div class="course__wrapper">
			<div class="course__list" >
				<div class="course__item" v-for="item in courseList">
					<div class="item__media"><img :src="item.banner" /></div>
					<div class="item__title"><span>【{{item.name}}】</span>{{item.intro}}</div>
					<div class="item__tags"><div>1239人试听过</div><div>12课时</div></div>
					<div class="item__bottom"><button>报名试听</button></div>
				</div>
			</div>
		</div>
	</div>
	
	
	<div class="course-list" v-if="courseList.length>0" style="min-height:400px;">
		<a class="ui-item"  v-for="item in courseList" href="/guanke/mobile.livecourse/detail.html?id={$item.id}&school_id={$school.id}">
			<div class="ui-item-box">
				<div class="item-sec1">
					<img :src="item.banner" />
				</div>
				<div class="item-sec2">
					<div class="sec2-hd">{{item.name}}</div>
					<div class="sec2-bd">
						<div class="sec2-bd__tags">推荐</div>
						<div class="sec2-bd__btn">小班授课</div>
					</div>
					<div class="sec2-ft">
						<img class="sec2-ft__icon swing animated infinite " src="/guanke/images/icons/time_alert.png" /> <label>上课地点</label>
					</div>
				</div>
			</div>
		</a>
	</div>
</div>
{/block} {block name="script"}
<script>
var school_id = '{$school.id}';
var vm = new Vue({
	el:'#app',
	data : {
		livecourseList:[],
		courseList:[],
		slideList:[],
	},
	created:function(){
		this.getLivecourseList();
		this.getSlide();
	},
	mounted:function(){
		let _this = this;
		$.get('/guanke/mobile.school/listslide.html',{school_id:school_id},function(res){
			_this.slideList = res.data;	
			$(".swiper-container").swiper({
		       autoplay: 3000,
		       slidesPerView:"auto",
			   centeredSlides:!0
		    });
		})		
	},
	methods:{
		getLivecourseList:function(e){
			$.showLoading();
			let _this = this;
			$.get('/guanke/mobile.livecourse/alllistdata.html',{school_id:school_id},function(res){
				console.log(res.data);
				_this.livecourseList = res.data.livecourseList;
				_this.courseList = res.data.courseList;
				$.hideLoading();
				$(".ui-content").removeClass("ui-hide");
			})
		},
		getSlide:function(e){
			let _this = this;
			$.get('/guanke/mobile.school/listslide.html',{school_id:school_id},function(res){
				_this.slideList = res.data;	
			})
		}
	}
})
$(function(){
})

</script>
{/block}
